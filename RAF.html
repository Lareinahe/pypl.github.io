<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PYPL index</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-select.css">
    
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
    }
    
    .page {
        height: 100%;
    }
    
    .center {
        text-align: center;
    }
    .right {
        text-align: right;
    }
    @media(max-width:450px) {
        .optCol {display: none;}
    }
    .vcenter {
        display: inline-block;
        vertical-align: middle;
        float: none;
    }
    .top-buffer50 { margin-top:50px; }
    .blue {background-color: #eee;}
    </style>
    
<script>
if (!String.format) {
  String.format = function(format) {
    var args = Array.prototype.slice.call(arguments, 1);
    return format.replace(/{(\d+)}/g, function(match, number) { 
      return typeof args[number] != 'undefined'
        ? args[number] 
        : match
      ;
    });
  };
}
var month = new Array();
month[0] = "Jan";
month[1] = "Feb";
month[2] = "Mar";
month[3] = "Apr";
month[4] = "May";
month[5] = "Jun";
month[6] = "Jul";
month[7] = "Aug";
month[8] = "Sept";
month[9] = "Oct";
month[10] = "Nov";
month[11] = "Dec";    

function refreshTop() {        
table = "<!-- begin section All-->\
<td class=center>1</td><td class=center></td><td>Java</td><td class=right>24.7 %</td><td class=\"right optCol\">-0.4 %</td></tr>\
<tr><td class=center>2</td><td class=center></td><td>PHP</td><td class=right>11.7 %</td><td class=\"right optCol\">-1.2 %</td></tr>\
<tr><td class=center>3</td><td class=center></td><td>Python</td><td class=right>10.6 %</td><td class=\"right optCol\">+0.9 %</td></tr>\
<tr><td class=center>4</td><td class=center></td><td>C#</td><td class=right>8.9 %</td><td class=\"right optCol\">-0.3 %</td></tr>\
<tr><td class=center>5</td><td class=center></td><td>C++</td><td class=right>8.2 %</td><td class=\"right optCol\">-0.5 %</td></tr>\
<tr><td class=center>6</td><td class=center></td><td>C</td><td class=right>7.8 %</td><td class=\"right optCol\">+0.1 %</td></tr>\
<tr><td class=center>7</td><td class=center></td><td>Javascript</td><td class=right>7.2 %</td><td class=\"right optCol\">-0.3 %</td></tr>\
<tr><td class=center>8</td><td class=center></td><td>Objective-C</td><td class=right>6.1 %</td><td class=\"right optCol\">-0.2 %</td></tr>\
<tr><td class=center>9</td><td class=center></td><td>Matlab</td><td class=right>3.0 %</td><td class=\"right optCol\">-0.2 %</td></tr>\
<tr><td class=center>10</td><td class=center><image src=Up.png><image src=Up.png></td><td>R</td><td class=right>2.7 %</td><td class=\"right optCol\">+0.6 %</td></tr>\
<tr><td class=center>11</td><td class=center></td><td>Ruby</td><td class=right>2.5 %</td><td class=\"right optCol\">+0.0 %</td></tr>\
<tr><td class=center>12</td><td class=center><image src=Up.png><image src=Up.png><image src=Up.png></td><td>Swift</td><td class=right>2.5 %</td><td class=\"right optCol\">+2.9 %</td></tr>\
<tr><td class=center>13</td><td class=center><image src=Down.png><image src=Down.png><image src=Down.png></td><td>Visual Basic</td><td class=right>2.3 %</td><td class=\"right optCol\">-0.7 %</td></tr>\
<tr><td class=center>14</td><td class=center><image src=Down.png></td><td>Perl</td><td class=right>1.3 %</td><td class=\"right optCol\">-0.3 %</td></tr>\
<tr><td class=center>15</td><td class=center><image src=Down.png></td><td>lua</td><td class=right>0.5 %</td><td class=\"right optCol\">-0.1 %</td>\
<!-- end section All-->\
";
if (location.hash.substr(1) == "US") {
table = "<!-- begin section US-->\
<td class=center>1</td><td class=center></td><td>Java</td><td class=right>22.6 %</td><td class=\"right optCol\">-1.0 %</td></tr>\
<tr><td class=center>2</td><td class=center></td><td>Python</td><td class=right>16.7 %</td><td class=\"right optCol\">+1.4 %</td></tr>\
<tr><td class=center>3</td><td class=center></td><td>C++</td><td class=right>8.8 %</td><td class=\"right optCol\">-0.5 %</td></tr>\
<tr><td class=center>4</td><td class=center><image src=Up.png><image src=Up.png></td><td>Javascript</td><td class=right>7.8 %</td><td class=\"right optCol\">+0.3 %</td></tr>\
<tr><td class=center>5</td><td class=center></td><td>C#</td><td class=right>7.5 %</td><td class=\"right optCol\">-0.4 %</td></tr>\
<tr><td class=center>6</td><td class=center><image src=Down.png><image src=Down.png></td><td>Objective-C</td><td class=right>7.5 %</td><td class=\"right optCol\">-0.2 %</td></tr>\
<tr><td class=center>7</td><td class=center><image src=Up.png></td><td>C</td><td class=right>6.5 %</td><td class=\"right optCol\">-0.3 %</td></tr>\
<tr><td class=center>8</td><td class=center><image src=Down.png></td><td>PHP</td><td class=right>5.4 %</td><td class=\"right optCol\">-1.9 %</td></tr>\
<tr><td class=center>9</td><td class=center><image src=Up.png></td><td>R</td><td class=right>4.0 %</td><td class=\"right optCol\">+0.6 %</td></tr>\
<tr><td class=center>10</td><td class=center><image src=Up.png><image src=Up.png><image src=Up.png><image src=Up.png><image src=Up.png></td><td>Swift</td><td class=right>3.8 %</td><td class=\"right optCol\">+4.8 %</td></tr>\
<tr><td class=center>11</td><td class=center><image src=Down.png><image src=Down.png></td><td>Ruby</td><td class=right>3.8 %</td><td class=\"right optCol\">-0.6 %</td></tr>\
<tr><td class=center>12</td><td class=center><image src=Down.png></td><td>Matlab</td><td class=right>2.5 %</td><td class=\"right optCol\">-0.2 %</td></tr>\
<tr><td class=center>13</td><td class=center><image src=Down.png></td><td>Perl</td><td class=right>1.6 %</td><td class=\"right optCol\">-0.4 %</td></tr>\
<tr><td class=center>14</td><td class=center><image src=Down.png></td><td>Visual Basic</td><td class=right>1.5 %</td><td class=\"right optCol\">-0.6 %</td></tr>\
<tr><td class=center>15</td><td class=center><image src=Down.png></td><td>lua</td><td class=right>0.0 %</td><td class=\"right optCol\">-1.0 %</td>\
<!-- end section US-->\
";
}

table = "<tr><th class=center>Rank<br></th><th class=center>Change</th><th>Language</th><th class=center>Share</th><th class=\"optCol center\">Trend</th></tr><tr>" + table + "</tr>"
document.getElementById("table").innerHTML=table;
} // refreshTop
</script>

  </head>
  
  
<body>
<div class="container-fluid page">
  <div class="row blue">
        <h1 class="text-center">PYPL PopularitY of Programming Language</h1>

         <!--<p class=text-center><a href="#">Worldwide</a> <a href="#US">US</a></p>-->

         <!-- <div class="visible-xs">xs</div><div class="visible-sm">sm</div><div class="visible-md">md</div><div class="visible-lg">lg</div>-->

        <div class="col-sm-5 col-md-5 col-lg-4 col-lg-offset-1 vcenter">
          <span>
            <p class=lead>Swift, the new language introduced by Apple, grabbed 3% of popularity this year, according to the PYPL index.  </p>
            <p class="hidden-xs">The PYPL PopularitY of Programming Language Index  is created by analyzing how often language tutorials are searched on Google : the more a language tutorial is searched, the more popular the language is assumed to be. It is a leading indicator.  The raw data comes from Google Trends.</p>  
            <p class="hidden-xs">If you believe in collective wisdom, the PYPL Popularity of Programming Language index can help you decide which language to study, or which one to use in a new software project.  </p>
          </span>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-6  col-lg-4 col-lg-offset-1 vcenter top-buffer50">
    		<p><script>document.write(((location.hash.substr(1) =="") ? "Worldwide" : location.hash.substr(1))+', '+month[new Date().getMonth()]+' '+new Date().getFullYear())</script> compared to a year ago:</p>
    		<table id=table class=table>
    		</tr>
    		</table>
    		<script>refreshTop()</script>
    	</div>
  </div>
  <div class="row top-buffer50 page">
    <p id=topBottom class="lead text-center">Loading...</p>
    <div id="PYPL" class="col-xs-12 col-sm-8  col-sm-offset-2 vcenter" style="height: 70%"></div>
    <div class="col-xs-12 col-sm-8  col-sm-offset-2 text-center" >
        <span class="text-center">
          <select id=selectLang class="selectpicker text-center" multiple title='Choose your favorite languages...' data-style="btn-success" data-width="auto" data-selected-text-format="count>3">
          </select>
        </span>
    </div>
  </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>

<script type="text/javascript" src="js/bootstrap-select.js"></script>

<!-- Google -->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script src="All.js?t=axbAll8514Allbxa">//load All by default</script>

<script>
$.ajaxSetup({async:false});
if (location.hash.substr(1) == "US") {$.getScript("US.js?t=axbUS7346USbxa")}
$.ajaxSetup({async:true});

document.getElementById('topBottom').innerHTML = String.format('{0} is the most popular language, {3} grew the most since 2004 ({4}%) and {1} lost the most ({2}%)', 
    graphData[0][TopPlusMinus[0]], graphData[0][TopPlusMinus[1]], (100*TopPlusMinus[2]).toFixed(1), graphData[0][TopPlusMinus[3]], (100*TopPlusMinus[4]).toFixed(1));

for (var lang in graphData[0]) {
    if (0<lang) {
        var opt = document.createElement('option');
        opt.value = lang;
        opt.innerHTML = graphData[0][lang];
        document.getElementById('selectLang').appendChild(opt);//$('selectLang') not working here
    }
}; 
$('selectLang').selectpicker('render');

google.load("visualization", "1", {packages:["corechart"]});
function drawChart() {
  
    var options = {
     chartArea: {width: '100%', height: '80%'},
      vAxis: {title: 'Share (%)', 
        logScale: true,
        viewWindow:{ // range from 0.5% to 35 %
            max:35.0, 
            min:0.5
          }
        },
        curveType: 'function'
    };

    // get window size
    // http://www.javascripter.net/faq/browserw.htm
    var winW = 630, winH = 460;
    if (document.body && document.body.offsetWidth) {
     winW = document.body.offsetWidth;
     winH = document.body.offsetHeight;
    }
    if (document.compatMode=='CSS1Compat' &&
        document.documentElement &&
        document.documentElement.offsetWidth ) {
     winW = document.documentElement.offsetWidth;
     winH = document.documentElement.offsetHeight;
    }
    if (window.innerWidth && window.innerHeight) {
     winW = window.innerWidth;
     winH = window.innerHeight;
    }       
    
    // move legend to bottom if narrow screen
    if (winW <= 500) {
        options.legend = { position: 'bottom' };
        };

    options.title = 'PYPL';
    var data1 = google.visualization.arrayToDataTable(graphData);
    var view = new google.visualization.DataView(data1);
    var sel = $(".selectpicker").val();
    if (!sel){
        sel = TopPlusMinus
        sel.splice(4,1) // remove % growth, decline
        sel.splice(2,1)
    }
   var keys = [];
   keys.push(0);
   for(var key in sel){
      keys.push(eval(sel[key]));
   }
   view.setColumns(keys)
    var chart = new google.visualization.LineChart(document.getElementById('PYPL'));
    chart.draw(view, options);
} // end drawChart()

google.setOnLoadCallback(drawChart);
$( ".selectpicker" ).change( function () {
    drawChart()
});
window.onresize = drawChart;
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<!--<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-54a6febc2c2b7cc0" async="async"></script>-->
    
  </body>
</html>